<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>X-Streamify</title>

  <!-- Server serves /public at the root -->
  <link href="/tailwind.css" rel="stylesheet" />
  <script defer src="/js/phase7.js"></script>
  <!-- NOTE: no external vault-anchor.js needed anymore -->
</head>
<body class="bg-black text-white font-sans">
  <!-- Header -->
  <header class="w-full bg-[#151515]/95 backdrop-blur border-b border-white/10">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <div class="w-8 h-8 rounded-xl bg-red-600 grid place-items-center text-white text-xl font-black">X</div>
        <span class="text-lg font-semibold">X-Streamify</span>
      </div>
      <nav class="hidden md:flex items-center space-x-6 text-white/80">
        <a href="#featured" class="hover:text-white">Featured</a>
        <a href="#library" class="hover:text-white">My Library</a>
        <a href="#how" class="hover:text-white">How It Works</a>
        <a href="#vault" class="hover:text-white">Your Vault</a>
      </nav>
      <button class="hidden md:block bg-red-600 text-white px-4 py-2 rounded-2xl font-medium">
        + Add New Movie
      </button>
    </div>
  </header>

  <!-- Hero -->
  <section class="relative max-w-7xl mx-auto px-4 pt-24 pb-16 grid md:grid-cols-[1fr,380px] gap-10">
    <div>
      <h1 class="text-5xl md:text-6xl font-extrabold tracking-tight mb-6">
        Build your personal streaming library.
      </h1>

      <div class="flex items-stretch gap-3 max-w-2xl">
        <input type="text" placeholder="Search..." class="flex-1 rounded-xl px-4 py-3 text-black focus:outline-none" />
        <button class="bg-red-600 rounded-xl px-4 py-3 font-medium">Search</button>
      </div>

      <div class="flex items-center gap-3 mt-5 text-sm">
        <span class="inline-flex items-center gap-2 bg-[#1e1e1e] px-3 py-1.5 rounded-2xl">üé¨ Featured</span>
        <span class="inline-flex items-center gap-2 bg-[#1e1e1e] px-3 py-1.5 rounded-2xl">üìö My Library</span>
        <span class="inline-flex items-center gap-2 bg-[#1e1e1e] px-3 py-1.5 rounded-2xl">‚ùì How It Works</span>
      </div>
    </div>

    <aside class="hidden md:block">
      <div class="h-[420px] rounded-3xl border-2 border-red-600/70 p-4">
        <div class="w-full h-full rounded-2xl border border-red-600/60 grid place-items-center text-red-400">
          Poster
        </div>
      </div>
    </aside>
  </section>

  <!-- Featured -->
  <section id="featured" class="max-w-7xl mx-auto px-4 pb-12">
    <h2 class="text-2xl font-semibold mb-4">Featured</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="bg-[#232323] text-center py-6 rounded-2xl">Feature A</div>
      <div class="bg-[#232323] text-center py-6 rounded-2xl">Feature B</div>
      <div class="bg-[#232323] text-center py-6 rounded-2xl">Feature C</div>
    </div>
  </section>

  <!-- My Library -->
  <section id="library" class="max-w-7xl mx-auto px-4 pb-12">
    <h2 class="text-2xl font-semibold mb-4">My Library</h2>
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
      <div class="bg-[#232323] h-40 rounded-2xl"></div>
      <div class="bg-[#232323] h-40 rounded-2xl"></div>
      <div class="bg-[#232323] h-40 rounded-2xl"></div>
      <div class="bg-[#232323] h-40 rounded-2xl"></div>
    </div>
  </section>

  <!-- How It Works -->
  <section id="how" class="max-w-7xl mx-auto px-4 pb-12">
    <h2 class="text-2xl font-semibold mb-4">How It Works</h2>
    <ol class="space-y-2 text-white/80">
      <li>1. Insert your disc or upload your file.</li>
      <li>2. Our system processes and stores your media securely.</li>
      <li>3. Stream your movies anytime, anywhere.</li>
    </ol>
  </section>

  <!-- Add a New Movie -->
  <section class="max-w-7xl mx-auto px-4 pb-12">
    <h2 class="text-2xl font-semibold mb-4">Add a New Movie</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <button class="bg-[#232323] h-16 rounded-2xl grid place-items-center">Import Disc</button>
      <button class="bg-[#232323] h-16 rounded-2xl grid place-items-center">Upload File</button>
    </div>
  </section>

  <!-- Your Vault -->
  <section id="vault" class="max-w-7xl mx-auto px-4 pb-16">
    <div class="flex items-center justify-between">
      <h2 class="text-2xl font-semibold">Your Vault</h2>
      <div class="inline-flex rounded-full bg-[#1a1a1a] p-1">
        <button id="tab-all" class="px-3 py-1 rounded-full text-sm font-medium text-white bg-red-600">All</button>
        <button id="tab-recent" class="px-3 py-1 rounded-full text-sm font-medium text-white/70 hover:text-white">Recently Added</button>
        <button id="tab-favs" class="px-3 py-1 rounded-full text-sm font-medium text-white/70 hover:text-white">Favorites</button>
      </div>
    </div>

    <!-- Anchor + Grid (IDs kept; visuals unchanged) -->
    <div id="vault-anchor" class="h-0"></div>
    <div id="vault-grid" class="mt-4 grid grid-cols-1 md:grid-cols-4 lg:grid-cols-6 gap-6">
      <div class="bg-[#232323] h-40 rounded-2xl"></div>
      <div class="bg-[#232323] h-40 rounded-2xl"></div>
      <div class="bg-[#232323] h-40 rounded-2xl"></div>
      <div class="bg-[#232323] h-40 rounded-2xl"></div>
      <div class="bg-[#232323] h-40 rounded-2xl"></div>
      <div class="bg-[#232323] h-40 rounded-2xl"></div>
    </div>
  </section>

  <!-- Inline vault anchoring helper (no external file needed) -->
  <script>
    (function () {
      function findVaultGrid() {
        const byId = document.querySelector('#vault-grid');
        if (byId) return byId;

        const section = document.querySelector('#vault');
        if (section) {
          const inSection = section.querySelector('.grid');
          if (inSection) return inSection;
        }

        const h2 = Array.from(document.querySelectorAll('h2'))
          .find(h => h.textContent.trim().toLowerCase() === 'your vault');
        if (h2) {
          const root = h2.parentElement;
          const tryFind = (node) => (node ? node.querySelector('.grid') : null);
          return tryFind(root) || tryFind(root.nextElementSibling) || tryFind(root.parentElement);
        }
        return document.querySelector('.grid') || document.body;
      }

      window.renderVaultCards = function(items) {
        const grid = findVaultGrid();
        if (!grid) return;

        grid.innerHTML = '';
        items.forEach(item => {
          const card = document.createElement('div');
          card.className = 'xsm-card rounded-2xl overflow-hidden bg-[#121212]';
          card.innerHTML = `
            <div class="aspect-[2/3] bg-black/40">
              <img src="${item.poster}" alt="${item.title}" class="w-full h-full object-cover">
            </div>
            <div class="p-2">
              <p class="text-white text-sm truncate">${item.title}</p>
            </div>
          `;
          grid.appendChild(card);
        });
      };
    })();
  </script>
</body>
</html>
