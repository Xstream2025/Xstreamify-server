<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>X-Streamify — Phase 10 (Step 4)</title>
  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="data:,">
  <style>
    /* Hide scrollbars on small tooltips and toast container spacing */
    .no-scrollbar::-webkit-scrollbar { display:none; }
    .no-scrollbar { -ms-overflow-style:none; scrollbar-width:none; }
  </style>
</head>
<body class="bg-neutral-950 text-neutral-100 antialiased">
  <!-- App Shell -->
  <div class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="sticky top-0 z-40 backdrop-blur bg-neutral-950/70 border-b border-neutral-800">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-3 flex items-center gap-3">
        <!-- Logo / Brand -->
        <div class="flex items-center gap-2">
          <div class="size-8 grid place-items-center rounded-lg bg-red-600/90 font-black text-xl leading-none">X</div>
          <span class="font-semibold tracking-wide text-neutral-200">X-Streamify</span>
          <span class="hidden sm:inline text-neutral-500 text-sm">· Your Movies. Your Stream.</span>
        </div>

        <!-- Tabs -->
        <nav class="ml-auto flex items-center gap-1" aria-label="Views">
          <button data-tab="all" class="tab-btn px-3 py-1.5 rounded-xl text-sm border border-neutral-700 bg-neutral-900 hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-red-500">
            All
          </button>
          <button data-tab="recent" class="tab-btn px-3 py-1.5 rounded-xl text-sm border border-neutral-700 bg-neutral-900 hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-red-500">
            Recently Added
          </button>
          <button data-tab="favs" class="tab-btn px-3 py-1.5 rounded-xl text-sm border border-neutral-700 bg-neutral-900 hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-red-500">
            Favorites
          </button>
        </nav>
      </div>
    </header>

    <!-- Controls -->
    <section class="border-b border-neutral-800 bg-neutral-950/60">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 grid grid-cols-1 md:grid-cols-12 gap-3">
        <!-- Search -->
        <div class="md:col-span-5">
          <label for="search" class="sr-only">Search</label>
          <div class="relative">
            <input id="search" type="text" placeholder="Search… (title, year, tags)"
              class="w-full rounded-xl bg-neutral-900 border border-neutral-700 px-4 py-2.5 pr-10 outline-none focus:ring-2 focus:ring-red-500"
              />
            <div class="absolute right-2 top-1/2 -translate-y-1/2 text-neutral-500 pointer-events-none">/</div>
          </div>
          <p class="mt-1 text-xs text-neutral-500">Tip: Press <kbd class="px-1 rounded bg-neutral-800 border border-neutral-700">/</kbd> to focus search.</p>
        </div>

        <!-- Sort -->
        <div class="md:col-span-3">
          <label for="sort" class="text-sm text-neutral-300">Sort by</label>
          <select id="sort" class="mt-1 w-full rounded-xl bg-neutral-900 border border-neutral-700 px-3 py-2 outline-none focus:ring-2 focus:ring-red-500">
            <option value="added_desc">Recently Added</option>
            <option value="title_asc">Title (A→Z)</option>
            <option value="title_desc">Title (Z→A)</option>
            <option value="year_desc">Year (new→old)</option>
            <option value="year_asc">Year (old→new)</option>
          </select>
        </div>

        <!-- Bulk actions -->
        <div class="md:col-span-4 flex items-end gap-2">
          <button id="bulkSelect" class="px-3 py-2 rounded-xl border border-neutral-700 bg-neutral-900 hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-red-500">
            Select
          </button>
          <button id="bulkFavorite" disabled class="px-3 py-2 rounded-xl border border-neutral-700 bg-neutral-900 disabled:opacity-50 hover:enabled:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-red-500">
            Favorite
          </button>
          <button id="bulkDelete" disabled class="px-3 py-2 rounded-xl border border-red-700 text-red-300 bg-neutral-900 disabled:opacity-50 hover:enabled:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-red-500">
            Delete
          </button>

          <div class="ml-auto flex gap-2">
            <button id="addMovieBtn" class="px-3 py-2 rounded-xl bg-red-600 hover:bg-red-500 text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500">
              + Add Movie
            </button>
            <button id="exportBtn" class="px-3 py-2 rounded-xl border border-neutral-700 bg-neutral-900 hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-red-500">
              Export JSON
            </button>
            <label class="px-3 py-2 rounded-xl border border-neutral-700 bg-neutral-900 hover:bg-neutral-800 cursor-pointer focus-within:ring-2 focus-within:ring-red-500">
              <input id="importFile" type="file" accept="application/json" class="sr-only" />
              Import JSON
            </label>
          </div>
        </div>
      </div>
    </section>

    <!-- Hints -->
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 mt-3">
      <p class="text-xs text-neutral-500">
        Hint: Hover a poster to see quick actions —
        <span class="text-neutral-300">♥</span> favorite,
        <span class="text-neutral-300">✎</span> edit,
        <span class="text-neutral-300">☐</span> select,
        <span class="text-neutral-300">✕</span> delete.
      </p>
    </div>

    <!-- Grid -->
    <main class="flex-1">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6">
        <div id="grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4"></div>
        <p id="emptyState" class="hidden mt-16 text-center text-neutral-400">No movies match your filters.</p>
      </div>
    </main>

    <!-- Footer -->
    <footer class="border-t border-neutral-800 py-6 text-center text-xs text-neutral-500">
      Phase 10 · Step 4 — UI polish & confirmations
    </footer>
  </div>

  <!-- Add/Edit Modal -->
  <div id="modal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/60"></div>
    <div class="relative mx-auto max-w-md mt-24 rounded-2xl border border-neutral-800 bg-neutral-950 p-4">
      <div class="flex items-center justify-between mb-2">
        <h2 id="modalTitle" class="font-semibold">Add Movie</h2>
        <button data-close class="rounded-lg px-2 py-1 border border-neutral-700 bg-neutral-900 hover:bg-neutral-800">✕</button>
      </div>
      <form id="movieForm" class="space-y-3">
        <div>
          <label class="text-sm">Title</label>
          <input name="title" required class="mt-1 w-full rounded-xl bg-neutral-900 border border-neutral-700 px-3 py-2 outline-none focus:ring-2 focus:ring-red-500" />
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div>
            <label class="text-sm">Year</label>
            <input name="year" type="number" min="1880" max="2100" class="mt-1 w-full rounded-xl bg-neutral-900 border border-neutral-700 px-3 py-2 outline-none focus:ring-2 focus:ring-red-500" />
          </div>
          <div>
            <label class="text-sm">Poster URL</label>
            <input name="poster" placeholder="https://…" class="mt-1 w-full rounded-xl bg-neutral-900 border border-neutral-700 px-3 py-2 outline-none focus:ring-2 focus:ring-red-500" />
          </div>
        </div>
        <div>
          <label class="text-sm">Tags (comma-separated)</label>
          <input name="tags" placeholder="sci-fi, classic" class="mt-1 w-full rounded-xl bg-neutral-900 border border-neutral-700 px-3 py-2 outline-none focus:ring-2 focus:ring-red-500" />
        </div>
        <div class="flex justify-end gap-2 pt-2">
          <button type="button" data-close class="px-3 py-2 rounded-xl border border-neutral-700 bg-neutral-900 hover:bg-neutral-800">Cancel</button>
          <button id="saveMovie" class="px-3 py-2 rounded-xl bg-red-600 hover:bg-red-500 text-white">Save</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Toasts -->
  <div id="toastHost" class="fixed bottom-4 inset-x-0 flex flex-col items-center gap-2 pointer-events-none"></div>

  <!-- App Script -->
  <script src="./js/phase9.js"></script>
</body>
</html>
